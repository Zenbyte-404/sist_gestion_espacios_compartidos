<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard de Reservas Interactivo</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; }
    header { background: #004aad; color: white; padding: 1rem; text-align: center; }
    .chart { max-width: 1000px; margin: 2rem auto; padding: 1rem; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);}
    h2 { text-align: center; }
  </style>
</head>
<body>
  <header>
    <h1>üìä Dashboard de Reservas Interactivo</h1>
  </header>

  <!-- Heatmap -->
  <div class="chart">
    <h2>1. Heatmap reservas (d√≠a vs hora)</h2>
    <div id="heatmap"></div>
  </div>

  <!-- Histograma -->
  <div class="chart">
    <h2>2. Distribuci√≥n de duraci√≥n (horas)</h2>
    <div id="histograma"></div>
  </div>

  <!-- Barras -->
  <div class="chart">
    <h2>3. Reservas por tipo de espacio</h2>
    <div id="barras"></div>
  </div>

  <script>
    // ‚ö° Simulamos los mismos datos que usaste en Colab.
    // En la pr√°ctica podr√≠as exportar estos arreglos desde Python como JSON.
    
    // 1Ô∏è‚É£ Heatmap: d√≠as (0 a 6) vs horas (8 a 20)
    const dias = ['Lun','Mar','Mi√©','Jue','Vie','S√°b','Dom'];
    const horas = Array.from({length: 13}, (_, i) => i + 8);
    const heatmapData = {
      z: [
        [5,3,2,4,6,8,5,3,2,4,6,7,2],
        [2,4,6,5,3,2,4,6,5,3,2,1,2],
        [1,2,2,2,3,4,3,3,2,1,0,0,0],
        [4,4,5,5,6,7,8,7,6,5,4,3,2],
        [8,7,6,6,5,4,4,3,2,1,1,0,0],
        [3,2,1,1,2,2,3,4,4,5,6,6,7],
        [0,0,0,1,1,2,2,3,3,4,4,4,4]
      ],
      x: horas,
      y: dias,
      type: 'heatmap',
      colorscale: 'Viridis'
    };
    Plotly.newPlot('heatmap', [heatmapData], {
      xaxis: { title: 'Hora' },
      yaxis: { title: 'D√≠a semana' },
      margin: { t: 30 }
    });

    // 2Ô∏è‚É£ Histograma de duraci√≥n (igual al df['duracion_h'].hist)
    const duraciones = [1,1,1,2,2,3,2,4,3,3,3,2,1,2,3,4,5,1,2,2,3,4,4,5];
    Plotly.newPlot('histograma', [{
      x: duraciones,
      type: 'histogram',
      xbins: { start: 1, end: 5, size: 1 },
      marker: { color: '#004aad' }
    }], {
      xaxis: { title: 'Horas' },
      yaxis: { title: 'Frecuencia' },
      margin: { t: 30 }
    });

    // 3Ô∏è‚É£ Barras por tipo de espacio
    const espacios = ['Sala de estudio', 'Coworking', 'Laboratorio', 'Cancha'];
    const cantidades = [30, 15, 10, 8];
    Plotly.newPlot('barras', [{
      x: espacios,
      y: cantidades,
      type: 'bar',
      marker: { color: '#00aaff' }
    }], {
      xaxis: { title: 'Espacio' },
      yaxis: { title: 'Cantidad' },
      margin: { t: 30 }
    });
  </script>
</body>
</html>
